(this["webpackJsonpvirtual-background-demo"]=this["webpackJsonpvirtual-background-demo"]||[]).push([[0],{20:function(e,t,o){e.exports=o(34)},34:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(6),c=o.n(r),i=o(4),l=o(7),f=o(17),u=o(11),s=o.n(u),d=s.a.mark(h);function h(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),d)}var v={counter:0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=(arguments.length>1&&arguments[1],Object.assign({},e));return t.counter++,t},p=o(36),w=Object(p.a)({INITIALIZE:function(e){return e}}),E=o(15),g=o(16),V=o(19),b=o(18),C=o(3),R=function(e){Object(V.a)(o,e);var t=Object(b.a)(o);function o(){var e;Object(E.a)(this,o);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).localCanvasRef=n.createRef(),e.localVideoEffectors=null,e.enter=0,e.exit=0,e.drawVideoCanvas=function(){e.enter=performance.now();(e.enter-e.exit).toFixed(3);var t=performance.now();if(null!==e.localCanvasRef.current){var o=480/e.localCanvasRef.current.width*e.localCanvasRef.current.height;if(e.localVideoEffectors.doEffect(480,o),0!==e.localVideoEffectors.outputWidth&&0!==e.localVideoEffectors.outputHeight)e.localCanvasRef.current.height=e.localCanvasRef.current.width/e.localVideoEffectors.outputWidth*e.localVideoEffectors.outputHeight,e.localCanvasRef.current.getContext("2d").drawImage(e.localVideoEffectors.outputCanvas,0,0,e.localCanvasRef.current.width,e.localCanvasRef.current.height)}(performance.now()-t).toFixed(3);e.exit=performance.now(),requestAnimationFrame((function(){return e.drawVideoCanvas()}))},e}return Object(g.a)(o,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location.href).searchParams.get("model"),o=new URL(window.location.href).searchParams.get("blur"),n=0;this.localVideoEffectors="MobileNetV1"===t?new C.LocalVideoEffectors(C.ModelConfigMobileNetV1):"MobileNetV1_05"===t?new C.LocalVideoEffectors(C.ModelConfigMobileNetV1_05):"ResNet"===t?new C.LocalVideoEffectors(C.ModelConfigResNet):new C.LocalVideoEffectors(null),n=null===o?0:parseInt(o),this.localVideoEffectors.cameraEnabled=!0,this.localVideoEffectors.virtualBackgroundEnabled=!0,this.localVideoEffectors.virtualBackgroundImagePath="/resources/vbg/pic1.jpg",this.localVideoEffectors.maskBlurAmount=n,this.localVideoEffectors.canny=!1,this.localVideoEffectors.selectInputVideoDevice("").then((function(){requestAnimationFrame((function(){return e.drawVideoCanvas()}))}))}},{key:"render",value:function(){return n.createElement("div",{style:{width:"480px",margin:"auto"}},n.createElement("canvas",{ref:this.localCanvasRef,style:{display:"block",width:"480px",margin:"auto"}}))}}]),o}(n.Component);var j=Object(l.b)((function(e){return e}),(function(e){return{initialize:function(t){e(w.initialize(t))}}}))(R),k=Object(f.a)(),x=Object(i.d)(m,Object(i.a)(k));k.run(h),c.a.render(a.a.createElement(l.a,{store:x},a.a.createElement(j,null)),document.getElementById("root"))}},[[20,1,2]]]);